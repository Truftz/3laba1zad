<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Обработчик изображений</title>
    <link href="{{ url_for('static', path='/styles.css') }}" rel="stylesheet">
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <script>
        function onCaptchaSuccess(token) {
            document.getElementById("captchaResponse").value = token;
            document.getElementById("submitBtn").disabled = false;
            document.getElementById("submitBtn").style.opacity = "1";
            document.getElementById("submitBtn").style.cursor = "pointer";
        }

        function onCaptchaExpired() {
            document.getElementById("captchaResponse").value = "";
            document.getElementById("submitBtn").disabled = true;
            document.getElementById("submitBtn").style.opacity = "0.5";
            document.getElementById("submitBtn").style.cursor = "not-allowed";
        }

        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById("submitBtn").disabled = true;
            document.getElementById("submitBtn").style.opacity = "0.5";
            document.getElementById("submitBtn").style.cursor = "not-allowed";
        });
    </script>
</head>
<body>
    <h1>Обработчик изображений</h1>

    <form id="uploadForm" action="/process" method="post" enctype="multipart/form-data">
        <fieldset>
            <legend>Загрузите изображение</legend>
            <input type="file" name="file" accept="image/*" required>
        </fieldset>

        <fieldset>
            <legend>Выберите операцию</legend>
            <input type="radio" id="swap_lr" name="operation" value="swap_lr" checked>
            <label for="swap_lr">Поменять левую и правую части</label><br>

            <input type="radio" id="swap_ud" name="operation" value="swap_ud">
            <label for="swap_ud">Поменять верхнюю и нижнюю части</label><br>
        </fieldset>

        <fieldset>
            <legend>Цвет для левой части</legend>
            <input type="radio" id="left_red" name="left_color" value="red" checked>
            <label for="left_red" style="color: red;">Красный</label><br>

            <input type="radio" id="left_green" name="left_color" value="green">
            <label for="left_green" style="color: green;">Зеленый</label><br>

            <input type="radio" id="left_blue" name="left_color" value="blue">
            <label for="left_blue" style="color: blue;">Голубой</label><br>
        </fieldset>

        <fieldset>
            <legend>Цвет для правой части</legend>
            <input type="radio" id="right_red" name="right_color" value="red">
            <label for="right_red" style="color: red;">Красный</label><br>

            <input type="radio" id="right_green" name="right_color" value="green" checked>
            <label for="right_green" style="color: green;">Зеленый</label><br>

            <input type="radio" id="right_blue" name="right_color" value="blue">
            <label for="right_blue" style="color: blue;">Голубой</label><br>
        </fieldset>

        <fieldset>
            <legend>CAPTCHA</legend>
            <div class="g-recaptcha"
                 data-sitekey="6LdXCBUsAAAAAEvSSkQxng4qB8UUe9arjZMTq2T1"
                 data-callback="onCaptchaSuccess"
                 data-expired-callback="onCaptchaExpired">
            </div>
            <input type="hidden" id="captchaResponse" name="captcha_response">
        </fieldset>

        <br>
        <button type="submit" id="submitBtn">Обработать изображение</button>
    </form>
</body>
</html>