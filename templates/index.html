<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Обработчик изображений</title>
    <link href="{{ url_for('static', path='/styles.css') }}" rel="stylesheet">
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <script>
        function onSubmit(token) {
            document.getElementById("captchaResponse").value = token;
            document.getElementById("uploadForm").submit();
        }
    </script>
</head>
<body>
    <h1>Обработчик изображений</h1>

    <form id="uploadForm" action="/process" method="post" enctype="multipart/form-data">
        <fieldset>
            <legend>Загрузите изображение</legend>
            <input type="file" name="file" accept="image/*" required>
        </fieldset>

        <fieldset>
            <legend>Выберите операцию</legend>
            <input type="radio" id="swap_lr" name="operation" value="swap_lr" checked>
            <label for="swap_lr">Поменять левую и правую части</label><br>

            <input type="radio" id="swap_ud" name="operation" value="swap_ud">
            <label for="swap_ud">Поменять верхнюю и нижнюю части</label><br>
        </fieldset>

        <fieldset>
            <legend>CAPTCHA</legend>
            <div class="g-recaptcha" data-sitekey="6LdXCBUsAAAAAEvSSkQxng4qB8UUe9arjZMTq2T1" data-callback="onSubmit"></div>
            <input type="hidden" id="captchaResponse" name="captcha_response">
        </fieldset>

        <br>
        <button type="submit">Обработать изображение</button>
    </form>
</body>
</html>